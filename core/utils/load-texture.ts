import SoldierIdleTexture from "assets/Tiny RPG Character Asset Pack v1.03 -Full 20 Characters/Characters(100x100)/Soldier/Soldier/Soldier-Idle.png.base64-data-url";
import SoldierAttackTexture from "assets/Tiny RPG Character Asset Pack v1.03 -Full 20 Characters/Characters(100x100)/Soldier/Soldier/Soldier-Attack01.png.base64-data-url";
import SoldierWalkTexture from "assets/Tiny RPG Character Asset Pack v1.03 -Full 20 Characters/Characters(100x100)/Soldier/Soldier/Soldier-Walk.png.base64-data-url";
import SoldierAbilityTexture from "assets/Tiny RPG Character Asset Pack v1.03 -Full 20 Characters/Characters(100x100)/Soldier/Soldier/Soldier-Attack03.png.base64-data-url";
import SoldierHurtTexture from "assets/Tiny RPG Character Asset Pack v1.03 -Full 20 Characters/Characters(100x100)/Soldier/Soldier/Soldier-Hurt.png.base64-data-url";
import SoldierDeathTexture from "assets/Tiny RPG Character Asset Pack v1.03 -Full 20 Characters/Characters(100x100)/Soldier/Soldier/Soldier-Death.png.base64-data-url";

import OrcIdleTexture from "assets/Tiny RPG Character Asset Pack v1.03 -Full 20 Characters/Characters(100x100)/Orc/Orc/Orc-Idle.png.base64-data-url";
import OrcAttackTexture from "assets/Tiny RPG Character Asset Pack v1.03 -Full 20 Characters/Characters(100x100)/Orc/Orc/Orc-Attack01.png.base64-data-url";
import OrcWalkTexture from "assets/Tiny RPG Character Asset Pack v1.03 -Full 20 Characters/Characters(100x100)/Orc/Orc/Orc-Walk.png.base64-data-url";
import OrcAbilityTexture from "assets/Tiny RPG Character Asset Pack v1.03 -Full 20 Characters/Characters(100x100)/Orc/Orc/Orc-Attack02.png.base64-data-url";
import OrcHurtTexture from "assets/Tiny RPG Character Asset Pack v1.03 -Full 20 Characters/Characters(100x100)/Orc/Orc/Orc-Hurt.png.base64-data-url";
import OrcDeathTexture from "assets/Tiny RPG Character Asset Pack v1.03 -Full 20 Characters/Characters(100x100)/Orc/Orc/Orc-Death.png.base64-data-url";

import LancerIdleTexture from "assets/Tiny RPG Character Asset Pack v1.03 -Full 20 Characters/Characters(100x100)/Lancer/Lancer/Lancer-Idle.png.base64-data-url";
import LancerAttackTexture from "assets/Tiny RPG Character Asset Pack v1.03 -Full 20 Characters/Characters(100x100)/Lancer/Lancer/Lancer-Attack01.png.base64-data-url";
import LancerWalkTexture from "assets/Tiny RPG Character Asset Pack v1.03 -Full 20 Characters/Characters(100x100)/Lancer/Lancer/Lancer-Walk01.png.base64-data-url";
import LancerAbilityTexture from "assets/Tiny RPG Character Asset Pack v1.03 -Full 20 Characters/Characters(100x100)/Lancer/Lancer/Lancer-Attack03.png.base64-data-url";
import LancerHurtTexture from "assets/Tiny RPG Character Asset Pack v1.03 -Full 20 Characters/Characters(100x100)/Lancer/Lancer/Lancer-Hurt.png.base64-data-url";
import LancerDeathTexture from "assets/Tiny RPG Character Asset Pack v1.03 -Full 20 Characters/Characters(100x100)/Lancer/Lancer/Lancer-Death.png.base64-data-url";

import PriestIdleTexture from "assets/Tiny RPG Character Asset Pack v1.03 -Full 20 Characters/Characters(100x100)/Priest/Priest/Priest-Idle.png.base64-data-url";
import PriestAttackTexture from "assets/Tiny RPG Character Asset Pack v1.03 -Full 20 Characters/Characters(100x100)/Priest/Priest/Priest-Attack.png.base64-data-url";
import PriestWalkTexture from "assets/Tiny RPG Character Asset Pack v1.03 -Full 20 Characters/Characters(100x100)/Priest/Priest/Priest-Walk.png.base64-data-url";
import PriestAbilityTexture from "assets/Tiny RPG Character Asset Pack v1.03 -Full 20 Characters/Characters(100x100)/Priest/Priest/Priest-Heal.png.base64-data-url";
import PriestHurtTexture from "assets/Tiny RPG Character Asset Pack v1.03 -Full 20 Characters/Characters(100x100)/Priest/Priest/Priest-Hurt.png.base64-data-url";
import PriestDeathTexture from "assets/Tiny RPG Character Asset Pack v1.03 -Full 20 Characters/Characters(100x100)/Priest/Priest/Priest-Death.png.base64-data-url";

import GreatswordSkeletonIdleTexture from "assets/Tiny RPG Character Asset Pack v1.03 -Full 20 Characters/Characters(100x100)/Greatsword Skeleton/Greatsword Skeleton/Greatsword Skeleton-Idle.png.base64-data-url";
import GreatswordSkeletonAttackTexture from "assets/Tiny RPG Character Asset Pack v1.03 -Full 20 Characters/Characters(100x100)/Greatsword Skeleton/Greatsword Skeleton/Greatsword Skeleton-Attack01.png.base64-data-url";
import GreatswordSkeletonWalkTexture from "assets/Tiny RPG Character Asset Pack v1.03 -Full 20 Characters/Characters(100x100)/Greatsword Skeleton/Greatsword Skeleton/Greatsword Skeleton-Walk.png.base64-data-url";
import GreatswordSkeletonAbilityTexture from "assets/Tiny RPG Character Asset Pack v1.03 -Full 20 Characters/Characters(100x100)/Greatsword Skeleton/Greatsword Skeleton/Greatsword Skeleton-Attack02.png.base64-data-url";
import GreatswordSkeletonHurtTexture from "assets/Tiny RPG Character Asset Pack v1.03 -Full 20 Characters/Characters(100x100)/Greatsword Skeleton/Greatsword Skeleton/Greatsword Skeleton-Hurt.png.base64-data-url";
import GreatswordSkeletonDeathTexture from "assets/Tiny RPG Character Asset Pack v1.03 -Full 20 Characters/Characters(100x100)/Greatsword Skeleton/Greatsword Skeleton/Greatsword Skeleton-Death.png.base64-data-url";

import SlimeIdleTexture from "assets/Tiny RPG Character Asset Pack v1.03 -Full 20 Characters/Characters(100x100)/Slime/Slime/Slime-Idle.png.base64-data-url";
import SlimeAttackTexture from "assets/Tiny RPG Character Asset Pack v1.03 -Full 20 Characters/Characters(100x100)/Slime/Slime/Slime-Attack01.png.base64-data-url";
import SlimeWalkTexture from "assets/Tiny RPG Character Asset Pack v1.03 -Full 20 Characters/Characters(100x100)/Slime/Slime/Slime-Walk.png.base64-data-url";
import SlimeAbilityTexture from "assets/Tiny RPG Character Asset Pack v1.03 -Full 20 Characters/Characters(100x100)/Slime/Slime/Slime-Attack02.png.base64-data-url";
import SlimeHurtTexture from "assets/Tiny RPG Character Asset Pack v1.03 -Full 20 Characters/Characters(100x100)/Slime/Slime/Slime-Hurt.png.base64-data-url";
import SlimeDeathTexture from "assets/Tiny RPG Character Asset Pack v1.03 -Full 20 Characters/Characters(100x100)/Slime/Slime/Slime-Death.png.base64-data-url";

import EliteOrcIdleTexture from "assets/Tiny RPG Character Asset Pack v1.03 -Full 20 Characters/Characters(100x100)/Elite Orc/Elite Orc/Elite Orc-Idle.png.base64-data-url";
import EliteOrcAttackTexture from "assets/Tiny RPG Character Asset Pack v1.03 -Full 20 Characters/Characters(100x100)/Elite Orc/Elite Orc/Elite Orc-Attack01.png.base64-data-url";
import EliteOrcWalkTexture from "assets/Tiny RPG Character Asset Pack v1.03 -Full 20 Characters/Characters(100x100)/Elite Orc/Elite Orc/Elite Orc-Walk.png.base64-data-url";
import EliteOrcAbilityTexture from "assets/Tiny RPG Character Asset Pack v1.03 -Full 20 Characters/Characters(100x100)/Elite Orc/Elite Orc/Elite Orc-Attack02.png.base64-data-url";
import EliteOrcHurtTexture from "assets/Tiny RPG Character Asset Pack v1.03 -Full 20 Characters/Characters(100x100)/Elite Orc/Elite Orc/Elite Orc-Hurt.png.base64-data-url";
import EliteOrcDeathTexture from "assets/Tiny RPG Character Asset Pack v1.03 -Full 20 Characters/Characters(100x100)/Elite Orc/Elite Orc/Elite Orc-Death.png.base64-data-url";

import WizardIdleTexture from "assets/Tiny RPG Character Asset Pack v1.03 -Full 20 Characters/Characters(100x100)/Wizard/Wizard/Wizard-Idle.png.base64-data-url";
import WizardAttackTexture from "assets/Tiny RPG Character Asset Pack v1.03 -Full 20 Characters/Characters(100x100)/Wizard/Wizard/Wizard-Attack01.png.base64-data-url";
import WizardWalkTexture from "assets/Tiny RPG Character Asset Pack v1.03 -Full 20 Characters/Characters(100x100)/Wizard/Wizard/Wizard-Walk.png.base64-data-url";
import WizardAbilityTexture from "assets/Tiny RPG Character Asset Pack v1.03 -Full 20 Characters/Characters(100x100)/Wizard/Wizard/Wizard-Attack02.png.base64-data-url";
import WizardHurtTexture from "assets/Tiny RPG Character Asset Pack v1.03 -Full 20 Characters/Characters(100x100)/Wizard/Wizard/Wizard-Hurt.png.base64-data-url";
import WizardDeathTexture from "assets/Tiny RPG Character Asset Pack v1.03 -Full 20 Characters/Characters(100x100)/Wizard/Wizard/Wizard-DEATH.png.base64-data-url";

import { TextureLoader } from "three";
import type { Texture } from "three";
import { Appellation } from "../types/appellation";
import type { Animation } from "../types/animation";

const textureLoader = new TextureLoader();

const textures: Record<Appellation, Record<Animation, Texture>> = {
	Soldier: {
		Idle: textureLoader.load(SoldierIdleTexture),
		Attack: textureLoader.load(SoldierAttackTexture),
		Walk: textureLoader.load(SoldierWalkTexture),
		Ability: textureLoader.load(SoldierAbilityTexture),
		Hurt: textureLoader.load(SoldierHurtTexture),
		Death: textureLoader.load(SoldierDeathTexture),
	},
	Orc: {
		Idle: textureLoader.load(OrcIdleTexture),
		Attack: textureLoader.load(OrcAttackTexture),
		Walk: textureLoader.load(OrcWalkTexture),
		Ability: textureLoader.load(OrcAbilityTexture),
		Hurt: textureLoader.load(OrcHurtTexture),
		Death: textureLoader.load(OrcDeathTexture),
	},
	Lancer: {
		Idle: textureLoader.load(LancerIdleTexture),
		Attack: textureLoader.load(LancerAttackTexture),
		Walk: textureLoader.load(LancerWalkTexture),
		Ability: textureLoader.load(LancerAbilityTexture),
		Hurt: textureLoader.load(LancerHurtTexture),
		Death: textureLoader.load(LancerDeathTexture),
	},
	Priest: {
		Idle: textureLoader.load(PriestIdleTexture),
		Attack: textureLoader.load(PriestAttackTexture),
		Walk: textureLoader.load(PriestWalkTexture),
		Ability: textureLoader.load(PriestAbilityTexture),
		Hurt: textureLoader.load(PriestHurtTexture),
		Death: textureLoader.load(PriestDeathTexture),
	},
	[Appellation.GreatswordSkeleton]: {
		Idle: textureLoader.load(GreatswordSkeletonIdleTexture),
		Attack: textureLoader.load(GreatswordSkeletonAttackTexture),
		Walk: textureLoader.load(GreatswordSkeletonWalkTexture),
		Ability: textureLoader.load(GreatswordSkeletonAbilityTexture),
		Hurt: textureLoader.load(GreatswordSkeletonHurtTexture),
		Death: textureLoader.load(GreatswordSkeletonDeathTexture),
	},
	Slime: {
		Idle: textureLoader.load(SlimeIdleTexture),
		Attack: textureLoader.load(SlimeAttackTexture),
		Walk: textureLoader.load(SlimeWalkTexture),
		Ability: textureLoader.load(SlimeAbilityTexture),
		Hurt: textureLoader.load(SlimeHurtTexture),
		Death: textureLoader.load(SlimeDeathTexture),
	},
	[Appellation.EliteOrc]: {
		Idle: textureLoader.load(EliteOrcIdleTexture),
		Attack: textureLoader.load(EliteOrcAttackTexture),
		Walk: textureLoader.load(EliteOrcWalkTexture),
		Ability: textureLoader.load(EliteOrcAbilityTexture),
		Hurt: textureLoader.load(EliteOrcHurtTexture),
		Death: textureLoader.load(EliteOrcDeathTexture),
	},
	Wizard: {
		Idle: textureLoader.load(WizardIdleTexture),
		Attack: textureLoader.load(WizardAttackTexture),
		Walk: textureLoader.load(WizardWalkTexture),
		Ability: textureLoader.load(WizardAbilityTexture),
		Hurt: textureLoader.load(WizardHurtTexture),
		Death: textureLoader.load(WizardDeathTexture),
	},
};

export function loadTexture(
	appellation: Appellation,
	animation: Animation,
): Texture {
	return textures[appellation][animation];
}

export const waitTextureLoaded: Promise<void> = (async function waitTextureLoad(
	retry = 0,
) {
	if (retry > 20) {
		throw new Error("Textures loading timed out !");
	}

	const textureLoaded = Object.values(textures)
		.flatMap((textureByAnimation) => Object.values(textureByAnimation))
		.every((texture) => Boolean(texture.image));

	if (!textureLoaded) {
		await new Promise((r) => setTimeout(r, 15));
		return waitTextureLoad(retry + 1);
	}
})();
